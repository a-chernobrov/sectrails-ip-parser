
# SecurityTrails scraper

Помогает ускорить процесс сбора доменов с CIDR






## Как пользоваться

cidr.py - принимает ваш cidr и разбивает его на cidr с маской 24 для удобства работы с веб формой securitytrails

- Авторизуйтесь на securitytrails.com и введите любой адрес из вашего cidr в поисковую строку
- Перейдите в IP Neighbors. Выпадет модальное окно со списком адресов с маской 32
- Нажимайте Zoom Out пока не  достигнете списка с адресами по 24 маске
- Откройте dev console и вставьте js скрипт из pars_from_cidr_sectrails.txt и нажмите ENTER. Записи из модального окна сохранены в файл. 
- Откройте файл и удалите записи которые не входят в область ваших действий.
- Теперь переходите по каждому из адресов в вашем файле для получения списков с маской 28. И проделайте все как делали до этого. Названия файлов для сохранения можно не менять, все они будут копиями от изначального и это не важно. Важно их содержимое.
- После того, как вы получили записи с адресами по 28 маске, вам нужно сделать все тоже самое с этими адресами. Переходите по ссылке руками, вставляете код и получаете файл.

В итоге у вас будет:
- Один файл содержащий алреса с 24-й маской
- Какое-то кол-во файлов с адресами по 28 маске
- И файлы содержащие адреса с маской 32 и сслкой на кол-во сайтов размещенных по адресу.

Все эти файл вам нужно скопировать в одну папку. В ip_reporter.py указать каталог в котором лежат ваши файлы и запустить скрипт.
На выходе вы получете html отчет в формате:

ip/24
    ip/28
        ip/32   кол-во доменов

Вам остается только вставить каждый адрес в поиск securitytrails и получить содержимое.



## Важно

Да, это не автомат. Реализовать все в автоматическом режиме не удается. Сервис серьезно реагирует на любую автоматику. Но в таком вот режиме, удается сократить время затраты в 3-4 раза, что при работе с крупными сетями, очень ощутимо.

